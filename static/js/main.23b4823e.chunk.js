(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{88:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),c=r(28),o=r.n(c),a=r(5),i=r(23),u=r(18),l=r(13),b=r.n(l),j=r(94),d=r(1);var O=function(e){var t=e.callback,r=e.buttonText;return Object(d.jsx)("div",{id:"new-game-button",children:Object(d.jsx)(j.a,{variant:"primary",size:"lg",onClick:t,children:r})})};var f=function(e){var t=e.countriesInfo,r=e.buttonText,s=e.callback,c=Object(n.useState)(!1),o=Object(a.a)(c,2),i=o[0],l=o[1];function j(){return(j=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),s(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("div",{id:"start-new-game",children:[!i&&Object(d.jsx)("br",{}),!i&&Object(d.jsx)(O,{callback:function(){return j.apply(this,arguments)},buttonText:r}),i&&Object(d.jsx)(L,{countriesInfo:t})]})};var h=function(e){var t=e.updateStatsCallback,r=Object(n.useState)(0),s=Object(a.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)(0),u=Object(a.a)(i,2),l=u[0],b=u[1],j=Object(n.useState)(0),O=Object(a.a)(j,2),f=O[0],h=O[1];return Object(n.useEffect)((function(){var e=t(),r=e.numberOfWins,n=e.numberOfGames,s=e.numberOfAttempts;o(r),h(n),b(s),localStorage.setItem("numberOfWins",JSON.stringify(r)),localStorage.setItem("numberOfGames",JSON.stringify(n)),localStorage.setItem("numberOfAttempts",JSON.stringify(s))}),[!0]),Object(d.jsx)("div",{id:"country-guesser-stats",children:l>0&&f>0&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Stats"}),Object(d.jsxs)("p",{children:["Total games: ",f]}),Object(d.jsxs)("p",{children:["Number of wins: ",c]}),c>0&&Object(d.jsxs)("p",{children:["Win percentage: ",(c/f*100).toFixed(1),"%"]}),c>0&&Object(d.jsxs)("p",{children:["Number of guesses per correct answer: ",(l/c).toFixed(1)]})]})})};function g(e){var t="";return e.forEach((function(e,r){var n=e.split(" ");n.forEach((function(e,t,r){r[t]=r[t].charAt(0).toUpperCase()+r[t].slice(1)}));var s=n.join(" ");t=(t=0===r?s:t+", "+s).replace(" And "," & ")})),t}var m=function(e){var t=e.countriesInfo,r=e.name,s=e.flag,c=e.map,o=e.guesses,i=Object(n.useState)(!1),u=Object(a.a)(i,2),l=u[0],b=u[1];return Object(d.jsxs)("div",{id:"failure-page",children:[!l&&Object(d.jsxs)("div",{id:"country-failure",children:[Object(d.jsx)("p",{style:{color:"red"},children:"You failed. Better luck next time"}),Object(d.jsxs)("p",{children:["The answer was ",Object(d.jsx)("a",{href:c,children:r})]}),Object(d.jsxs)("p",{children:["Your answer history was: ",g(o)]}),Object(d.jsx)("img",{style:{border:"solid"},src:s,alt:"Country Flag"})]}),!l&&Object(d.jsx)("br",{}),!l&&Object(d.jsx)(h,{updateStatsCallback:function(){return{numberOfWins:JSON.parse(localStorage.getItem("numberOfWins"))||0,numberOfGames:(JSON.parse(localStorage.getItem("numberOfGames"))||0)+1,numberOfAttempts:(JSON.parse(localStorage.getItem("numberOfAttempts"))||0)+o.length}}}),Object(d.jsx)(f,{countriesInfo:t,buttonText:"Try again",callback:b})]})};var p=function(e){var t=e.duplicateGuess,r=e.knownCountry;return Object(d.jsxs)("div",{style:{color:"brown"},id:"invalid-guess-feedback",children:[t&&Object(d.jsx)("p",{children:"You've already tried that country!"}),!r&&Object(d.jsx)("p",{children:"Enter a valid country name"})]})};var x=function(e){var t=e.correctGuesses,r=e.incorrectGuesses,n=e.borderingCountriesCount,s=e.incorrectCount,c=6-s,o="You have ".concat(c,s>=5?" life remaining":" lives remaining"),a=n-t.length,i=t.length===n-1?"There is ".concat(a," bordering country remaining"):"There are ".concat(a," bordering countries remaining");return Object(d.jsxs)("div",{id:"bordering-countries-guess-feedback",children:[t.length>0&&Object(d.jsxs)("p",{style:{color:"green"},children:["Correct answers so far: ",g(t)]}),r.length>0&&Object(d.jsxs)("p",{style:{color:"red"},children:["Incorrect answers so far: ",g(r)]}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:o}),Object(d.jsx)("p",{children:i}),Object(d.jsx)("br",{})]})};var v=function(e){var t=e.updateStatsCallback,r=Object(n.useState)(0),s=Object(a.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)(0),u=Object(a.a)(i,2),l=u[0],b=u[1],j=Object(n.useState)(0),O=Object(a.a)(j,2),f=O[0],h=O[1],g=Object(n.useState)(0),m=Object(a.a)(g,2),p=m[0],x=m[1],v=Object(n.useState)(0),S=Object(a.a)(v,2),y=S[0],C=S[1];return Object(n.useEffect)((function(){var e=t(),r=e.numberOfWins,n=e.numberOfGames,s=e.numberOfAttempts,c=e.numberOfCorrectAnswers,a=e.numberOfIncorrectAnswers;o(r),h(n),b(s),x(c),C(a),localStorage.setItem("numberOfBorderWins",JSON.stringify(r)),localStorage.setItem("numberOfBorderGames",JSON.stringify(n)),localStorage.setItem("numberOfBorderAttempts",JSON.stringify(s)),localStorage.setItem("numberOfCorrectBorderAnswers",JSON.stringify(c)),localStorage.setItem("numberOfIncorrectBorderAnswers",JSON.stringify(a))}),[!0]),Object(d.jsx)("div",{id:"country-guesser-stats",children:f>0&&l>0&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Stats"}),Object(d.jsxs)("p",{children:["Total games: ",f]}),Object(d.jsxs)("p",{children:["Number of wins: ",c]}),c>0&&Object(d.jsxs)("p",{children:["Win percentage: ",(c/f*100).toFixed(1),"%"]}),p>0&&Object(d.jsxs)("p",{children:["Average number of correct answers per game: ",(p/f).toFixed(1)]}),y>0&&Object(d.jsxs)("p",{children:["Average number of incorrect answers per game: ",(y/f).toFixed(1)]})]})})};var S=function(e){var t=e.countriesInfo,r=e.name,s=e.map,c=e.borderingCountries,o=e.correctGuesses,i=e.guesses,u=i.length-o.length,l=c.length,b=c.filter((function(e){return!o.includes(e.toLowerCase())})),j=Object(n.useState)(!1),O=Object(a.a)(j,2),h=O[0],m=O[1];return Object(d.jsxs)("div",{id:"failure-page",children:[c&&!h&&Object(d.jsxs)("div",{id:"bordering-countries-failure",children:[Object(d.jsx)("p",{style:{color:"red"},children:"You failed. Better luck next time"}),Object(d.jsxs)("p",{children:["See ",r," on the ",Object(d.jsx)("a",{href:s,children:"map"})]}),0===o.length&&Object(d.jsxs)("p",{children:["You found none of the bordering countries and missed ",l]}),o.length>0&&Object(d.jsxs)("p",{children:["You found ",o.length," of ",l]}),o.length>0&&Object(d.jsxs)("p",{children:["You found: ",g(o)]}),b&&Object(d.jsxs)("p",{children:["You missed: ",g(b)]}),Object(d.jsxs)("p",{children:["Your answer history was: ",g(i)]})]}),!h&&Object(d.jsx)("br",{}),!h&&Object(d.jsx)(v,{updateStatsCallback:function(){var e=JSON.parse(localStorage.getItem("numberOfBorderWins"))||0,t=JSON.parse(localStorage.getItem("numberOfBorderGames"))||0,r=JSON.parse(localStorage.getItem("numberOfBorderAttempts"))||0,n=JSON.parse(localStorage.getItem("numberOfCorrectBorderAnswers"))||0,s=JSON.parse(localStorage.getItem("numberOfIncorrectBorderAnswers"))||0;return{numberOfWins:e,numberOfGames:t+1,numberOfAttempts:r+i.length,numberOfCorrectAnswers:n+o.length,numberOfIncorrectAnswers:s+u}}}),Object(d.jsx)(f,{countriesInfo:t,buttonText:"Try again",callback:m})]})};var y=function(e){var t=e.countriesInfo,r=e.incorrectGuesses,s=e.correctGuesses,c=e.name,o=e.map,i=e.guesses,u=r.length,l=1===u?"answer":"answers",b=1===s.length?"Well done! You found the only bordering country of ".concat(c," with ").concat(u," incorrect ").concat(l):"Well done! You found the ".concat(s.length," bordering countries of ").concat(c," with ").concat(u," incorrect answers"),j=Object(n.useState)(!1),O=Object(a.a)(j,2),h=O[0],m=O[1];return Object(d.jsxs)("div",{children:[!h&&Object(d.jsxs)("div",{id:"successful-bordering-countries-game",children:[Object(d.jsx)("h5",{style:{color:"green"},children:b}),Object(d.jsxs)("p",{children:["See ",Object(d.jsx)("a",{href:o,children:c})," on the map"]}),Object(d.jsxs)("p",{children:["Your answer history was: ",g(i)]})]}),!h&&Object(d.jsx)("br",{}),!h&&Object(d.jsx)(v,{updateStatsCallback:function(){var e=JSON.parse(localStorage.getItem("numberOfBorderWins"))||0,t=JSON.parse(localStorage.getItem("numberOfBorderGames"))||0,r=JSON.parse(localStorage.getItem("numberOfBorderAttempts"))||0,n=JSON.parse(localStorage.getItem("numberOfCorrectBorderAnswers"))||0,c=JSON.parse(localStorage.getItem("numberOfIncorrectBorderAnswers"))||0;return{numberOfWins:e+1,numberOfGames:t+1,numberOfAttempts:r+i.length,numberOfCorrectAnswers:n+s.length,numberOfIncorrectAnswers:c+u}}}),Object(d.jsx)(f,{countriesInfo:t,buttonText:"Play again",callback:m})]})},C=r(93),w=r(47);r(68);var I=function(e){var t=e.possibleCountries,r=e.value,s=e.setValue,c=e.handleSubmit;return Object(d.jsxs)(C.a,{onSubmit:c,children:[Object(d.jsx)(n.Fragment,{children:Object(d.jsx)(C.a.Group,{className:"mb-3",children:Object(d.jsx)(w.a,{id:"country-search",onChange:s,options:t,placeholder:"Select your country",selected:r})})}),Object(d.jsx)(j.a,{variant:"primary",type:"submit",children:"Guess"})]})};var k=function(e){var t=e.clues;return Object(d.jsx)("div",{id:"country-initial-clue",children:t&&Object(d.jsxs)("p",{children:["The remaining bordering countries begin with the following letters: ",t]})})};var G=function(e,t,r){var n=!1,s=!1,c=!1;return e.length>0&&t.find((function(t){t.toLowerCase()===e&&(s=!0,n=!0),r.includes(e)&&(c=!0)})),{isValidCountry:n,knownCountry:s,duplicateGuess:c}};var A=function(e){var t=e.countriesInfo,r=e.name,s=e.borderingCountries,c=e.possibleCountries,o=e.map,u=s.length>1?"There are ".concat(s.length," bordering countries to find in total"):"There is 1 bordering country to find",l=Object(n.useState)([]),b=Object(a.a)(l,2),j=b[0],O=b[1],f=Object(n.useState)(!1),h=Object(a.a)(f,2),m=h[0],v=h[1],C=Object(n.useState)([]),w=Object(a.a)(C,2),A=w[0],N=w[1],B=Object(n.useState)(0),T=Object(a.a)(B,2),J=T[0],W=T[1],Y=Object(n.useState)([]),E=Object(a.a)(Y,2),F=E[0],L=E[1],M=Object(n.useState)(!1),U=Object(a.a)(M,2),V=U[0],P=U[1],D=Object(n.useState)(!1),q=Object(a.a)(D,2),z=q[0],H=q[1],K=Object(n.useState)(!1),R=Object(a.a)(K,2),Q=R[0],X=R[1],Z=Object(n.useState)(!0),$=Object(a.a)(Z,2),_=$[0],ee=$[1],te=Object(n.useState)([]),re=Object(a.a)(te,2),ne=re[0],se=re[1],ce=Object(n.useState)(!1),oe=Object(a.a)(ce,2),ae=oe[0],ie=oe[1],ue=Object(n.useState)(),le=Object(a.a)(ue,2),be=le[0],je=le[1];return Object(n.useEffect)((function(){J>=6&&H(!0);var e=function(){if(A.length>=4){var e=[];return s.forEach((function(t){if(!j.includes(t.toLowerCase())){var r=t.charAt(0).toUpperCase();e.push(r)}})),g(e)}}();je(e)})),Object(d.jsxs)("div",{id:"borders",children:[!Q&&!z&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Bordering Countries"}),Object(d.jsxs)("p",{children:["Your country is: ",r]}),Object(d.jsx)("p",{children:u}),Object(d.jsx)("div",{id:"borders-form",children:Object(d.jsx)(I,{possibleCountries:c,value:ne,setValue:se,handleSubmit:function(e){e.preventDefault(),se([""]);var t=e.target[0].value.toLowerCase().trim(),n=G(t,c,F),o=n.isValidCountry,a=n.knownCountry,u=n.duplicateGuess;v(!1),t===r.toLowerCase()?(ie(!0),o=!1):ie(!1),ee(a),P(u),o&&a&&!u&&function(e){s.map((function(e){return e.toLowerCase()})).includes(e)?(O([].concat(Object(i.a)(j),[e])),v(!0),j.length+1===s.length&&X(!0)):(N([].concat(Object(i.a)(A),[e])),W(J+1),v(!1));L([].concat(Object(i.a)(F),[e]))}(t)}})})]}),F.length>0&&!z&&!Q&&Object(d.jsx)(x,{correctGuesses:j,incorrectGuesses:A,incorrectCount:J,borderingCountriesCount:s.length}),!Q&&!m&&Object(d.jsxs)("div",{id:"invalid-border-guess-feedback",children:[Object(d.jsx)(p,{duplicateGuess:V,knownCountry:_}),ae&&Object(d.jsx)("p",{style:{color:"brown"},children:"That's the actual country! Guess the bordering ones instead"})]}),!Q&&!z&&be&&Object(d.jsx)(k,{clues:be}),z&&!Q&&Object(d.jsx)(S,{countriesInfo:t,name:r,map:o,correctGuesses:j,borderingCountries:s,guesses:F}),Q&&Object(d.jsx)(y,{countriesInfo:t,correctGuesses:j,incorrectGuesses:A,name:r,map:o,guesses:F})]})};var N=function(e){var t=e.countriesInfo,r=e.incorrectCount,s=e.guesses,c=e.name,o=e.borderingCountries,i=e.possibleCountries,l=e.flag,j=e.map,m=Object(n.useState)(!1),p=Object(a.a)(m,2),x=p[0],v=p[1],S=Object(n.useState)(!1),y=Object(a.a)(S,2),C=y[0],w=y[1];function I(){return(I=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("div",{children:[!x&&Object(d.jsxs)("div",{id:"successful-country-game",children:[0===r&&Object(d.jsxs)("h5",{style:{color:"green"},children:["Amazing! You got ",Object(d.jsx)("a",{href:j,children:c})," in one!"]}),r>0&&Object(d.jsxs)("h5",{style:{color:"green"},children:["Well done! It took you ",r+1," attempts to get ",Object(d.jsx)("a",{href:j,children:c})]}),r>0&&Object(d.jsxs)("p",{children:["Your answer history was: ",g(s)]}),Object(d.jsx)("img",{style:{border:"solid"},src:l,alt:"Country Flag"})]}),!x&&Object(d.jsx)("br",{}),!x&&Object(d.jsx)(h,{updateStatsCallback:function(){return{numberOfWins:(JSON.parse(localStorage.getItem("numberOfWins"))||0)+1,numberOfGames:(JSON.parse(localStorage.getItem("numberOfGames"))||0)+1,numberOfAttempts:(JSON.parse(localStorage.getItem("numberOfAttempts"))||0)+s.length}}}),!x&&o.length>0&&Object(d.jsx)(O,{callback:function(){w(!0),v(!0)},buttonText:"Guess the bordering countries"}),!C&&Object(d.jsx)(f,{countriesInfo:t,buttonText:"Play again",callback:function(){return I.apply(this,arguments)}}),x&&C&&Object(d.jsx)(A,{countriesInfo:t,name:c,borderingCountries:o,possibleCountries:i,map:j})]})};var B=function(e){var t=e.incorrectCount,r=e.guesses,n=e.duplicateGuess,s=e.guessedBorderingCountry;return Object(d.jsxs)("div",{id:"country-guess-feedback",children:[!n&&Object(d.jsxs)("p",{style:{color:"red"},children:["Incorrect! That was attempt number ",t,"/6."]}),s&&Object(d.jsx)("p",{children:"You're getting close!"}),Object(d.jsxs)("p",{children:["Your answers so far: ",g(r)]})]})};var T=function(e){var t=e.countriesInfo,r=e.country,s=e.possibleCountries,c=r.name,o=r.population,u=r.flag,l=r.landlocked,b=r.region,j=r.subregion,O=r.map,f=r.capital,h=r.borderingCountries,g=Object(n.useState)(!1),x=Object(a.a)(g,2),v=x[0],S=x[1],y=Object(n.useState)(0),C=Object(a.a)(y,2),w=C[0],k=C[1],A=Object(n.useState)([]),T=Object(a.a)(A,2),J=T[0],W=T[1],Y=Object(n.useState)(!1),E=Object(a.a)(Y,2),F=E[0],L=E[1],M=Object(n.useState)(!1),U=Object(a.a)(M,2),V=U[0],P=U[1],D=Object(n.useState)(!0),q=Object(a.a)(D,2),z=q[0],H=q[1],K=Object(n.useState)([""]),R=Object(a.a)(K,2),Q=R[0],X=R[1],Z=Object(n.useState)(!1),$=Object(a.a)(Z,2),_=$[0],ee=$[1];return Object(n.useEffect)((function(){w>=6&&P(!0)})),Object(d.jsxs)("div",{id:"country-guesser",className:"component",children:[!V&&!v&&Object(d.jsxs)("div",{id:"country-info",children:[Object(d.jsx)("h2",{children:"Mystery Country"}),Object(d.jsxs)("p",{children:["Population = ",o]}),w>=1&&Object(d.jsxs)("p",{children:["Region = ",b]}),w>=2&&Object(d.jsx)("p",{children:l}),w>=3&&Object(d.jsxs)("p",{children:["Sub region = ",j]}),w>=4&&Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Flag: "}),Object(d.jsx)("img",{style:{border:"solid"},src:u,alt:"Country Flag"})]}),w>=5&&Object(d.jsxs)("p",{children:["Capital city = ",f]})]}),Object(d.jsx)("div",{id:"country-form",children:!v&&!V&&Object(d.jsx)(I,{possibleCountries:s,value:Q,setValue:X,handleSubmit:function(e){e.preventDefault(),X([""]);var t=e.target[0].value.toLowerCase().trim(),r=G(t,s,J),n=r.isValidCountry,o=r.knownCountry,a=r.duplicateGuess;H(o),L(a),n&&o&&!a&&function(e){H(!0),L(!1),e===c.toLowerCase()?S(!0):(k(w+1),S(!1),function(e){!v&&h.find((function(t){return t.toLowerCase()===e}))?ee(!0):ee(!1)}(e));W([].concat(Object(i.a)(J),[e]))}(t)}})}),Object(d.jsx)(p,{duplicateGuess:F,knownCountry:z}),!v&&J.length>0&&!V&&Object(d.jsx)(B,{guesses:J,incorrectCount:w,duplicateGuess:F,guessedBorderingCountry:_}),v&&!V&&Object(d.jsx)(N,{countriesInfo:t,name:c,map:O,flag:u,incorrectCount:w,guesses:J,borderingCountries:h,possibleCountries:s}),V&&Object(d.jsx)(m,{countriesInfo:t,name:c,map:O,flag:u,guesses:J})]})},J=r(46),W=r.n(J);function Y(){return(Y=Object(u.a)(b.a.mark((function e(){var t,r,n,s,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("https://restcountries.com/v3.1/all");case 3:return t=e.sent,r=t.data,n=[],s=[],c=["Taiwan","Greenland","Palestine","Kosovo","Western Sahara"],r.forEach((function(e){var t=e.name.common;if(e.unMember&&e.independent||c.includes(t)){n.push(t);var r={name:t,code:e.cca3};s.push(r)}})),o={countriesArray:n.sort(),countryCodeMapping:s,responseBody:r},e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function E(e,t){var r=[];return e&&e.forEach((function(e){t.find((function(t){t.code===e&&r.push(t.name)}))})),r}var F=function(){return Y.apply(this,arguments)};var L=function(e){var t=e.countriesInfo,r=t.countryCodeMapping,n=t.countriesArray,s=function(e,t,r){var n,s=e[Math.floor(Math.random()*e.length)],c=t.find((function(e){return e.name.common.toLowerCase()===s.toLowerCase()}));return{name:c.name.common,borderingCountries:E(c.borders,r),capital:g(c.capital),landlocked:c.landlocked?"The country is landlocked":"The country has a coastline",map:c.maps.googleMaps,population:(n=c.population,n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),flag:c.flags.png,region:c.region,subregion:c.subregion}}(n,t.responseBody,r);return Object(d.jsx)("div",{id:"country",children:s&&Object(d.jsx)(T,{countriesInfo:t,country:s,possibleCountries:n})})};var M=function(){var e=Object(n.useState)(),t=Object(a.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(!1),o=Object(a.a)(c,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){i||F().then((function(e){u(!0),s(e)}))})),Object(d.jsxs)("div",{id:"app",children:[Object(d.jsx)("h1",{children:"FUN WITH COUNTRIES!"}),r&&Object(d.jsx)(L,{countriesInfo:r}),Object(d.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",integrity:"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3",crossOrigin:"anonymous"})]})};o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.23b4823e.chunk.js.map